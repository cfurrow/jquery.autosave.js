<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <title>jquery.autosave.js - example</title>

  <link rel="stylesheet" type="text/css" href="../css/example.css" />
</head>
<body>
  <div class="container">
    <h1>Example</h1>
    <form action="" method="POST">
      <p>
        <input type="text" name="someInput" data-id="1" data-url="/api/updateinput" data-event="blur,change" value="change me" />
        <button type="submit">Save</button>
        <span class="alert alert-success success hide">Success!</span>
        <span class="alert alert-fail fail hide">Fail!</span>
      </p>
      <p>
        <input type="text" name="someOtherInput" data-id="1" data-url="/example" data-event="blur,change" value="you can change me too" />
        <button type="submit">Save</button>
        <span class="alert alert-success success hide">Success!</span>
        <span class="alert alert-fail fail hide">Fail!</span>
      </p>
    </form>
  </div>
  <script type="text/javascript" charset="utf-8" src="plugins.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="../src/jquery.autosave.min.js"></script>
  <script type="text/javascript" charset="utf-8">

    function successCallback(data,$jq){
      $jq.find("~.success").fadeIn();
    }
    function errorCallback(error,$jq){
      $jq.find("~.fail").fadeIn();
    }
    function beforeCallback($jq){
      console.log(this);
      $jq.siblings(".success,.fail").fadeOut();
    }

    $("input").autosave({url:"/example",success:successCallback,error:errorCallback,before:beforeCallback});
  </script>
</body>
</html>
